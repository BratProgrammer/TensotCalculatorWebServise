<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tensor Input Interface</title>
    <style>
        table {
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
            padding: 5px;
        }
        th {
            background-color: #f2f2f2;
        }
        input {
            width: 50px;
        }
    </style>
</head>
<body>

<h2>Tensor Input Interface</h2>

<div>
    <label for="rank">Tensor Rank:</label>
    <input type="number" id="rank" min="1" max="6" value="2">
</div>

<div>
    <label for="dimension">Tensor Dimension:</label>
    <input type="number" id="dimension" min="1" value="3">
</div>

<button onclick="createTensor()">Create Tensor</button>

<div id="tensorInput1">
    <table id="tensorTable1"></table>
</div>

<div id="bin_operations_div">
    <button>+</button>
    <button>-</button>
    <button>*</button>
</div>

<div id="tensorInput2">
    <table id="tensorTable2"></table>
</div>

<script>

    function createTensor() {
        var rank = parseInt(document.getElementById('rank').value);
        var dimension = parseInt(document.getElementById('dimension').value);
        var tensorInput1 = document.getElementById('tensorInput1');
        var tensorInput2 = document.getElementById('tensorInput2');
        tensorInput.innerHTML = '';

        var table = document.getElementById('tensorTable');

        var countOfRows = 0;
        var countOfСolumns = 0;
        var c = countOfСolumns;
        if (rank == 1) {
            countOfRows = 1;
            countOfСolumns = dimension;
        } else if (rank == 2) {
            countOfRows = dimension;
            countOfСolumns = dimension;
        } else {
            rank = rank - 1;
            countOfСolumns =  Math.pow(dimension, Math.floor(rank / 2)) * dimension;
            rank = rank - 1;
            countOfRows = Math.pow(dimension, Math.floor(rank / 2)) * dimension;
        }

        var id = 0;

        for (var i = 0; i < countOfRows; i++) {
            var row = table.insertRow();
            for (var j = 0; j < countOfСolumns; j++) {
                id++;
                var cell = row.insertCell();
                var input = document.createElement('input');
                input.type = 'text';
                input.name = 't1_element_' + i + '_' + j;
                input.id = 't1_element_' + id;
                cell.appendChild(input);
            }
        }
        tensorInput1.appendChild(table);

        for (var i = 0; i < countOfRows; i++) {
            var row = table.insertRow();
            for (var j = 0; j < countOfСolumns; j++) {
                id++;
                var cell = row.insertCell();
                var input = document.createElement('input');
                input.type = 'text';
                input.name = 't2_element_' + i + '_' + j;
                input.id = 't2_element_' + id;
                cell.appendChild(input);
            }
        }
        tensorInput2.appendChild(table);
    }

    function plus() {
        //TODO
    }

    function minus() {
        //TODO
    }

    function multiply() {

    }
</script>

</body>
</html>
